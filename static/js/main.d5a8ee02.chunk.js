(this["webpackJsonpgoit-react-hw-04-image-finder"]=this["webpackJsonpgoit-react-hw-04-image-finder"]||[]).push([[0],{10:function(e,t,n){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1wp5n",image:"ImageGalleryItem_image__3GbRc"}},11:function(e,t,n){e.exports={app:"App_app__ZyzHU",title:"App_title__1p-1P"}},14:function(e,t,n){e.exports={Searchbar:"Searchbar_Searchbar__3fCwb"}},15:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__3P_Im"}},18:function(e,t,n){e.exports={Button:"Button_Button__21aOq"}},26:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(4),r=n.n(o),i=(n(26),n(12)),l=n(3),s=(n(27),n(28),n(8)),u=n(13),d=n.n(u),b=n(14),j=n.n(b),m=n(1);function h(e){var t=e.onClick,n=Object(a.useState)(""),c=Object(l.a)(n,2),o=c[0],r=c[1];return Object(m.jsx)("header",{className:j.a.Searchbar,children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()&&(t(o),r(""))},children:[Object(m.jsx)("button",{type:"submit",children:Object(m.jsx)("span",{children:"Search"})}),Object(m.jsx)("input",{onChange:function(e){r(e.target.value)},type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o})]})})}var f=n(15),p=n.n(f),g=n(10),O=n.n(g),y=function(e){var t=e.images,n=e.onImageClick;return t.map((function(e){var t=e.id,a=e.webformatURL,c=e.tags;return Object(m.jsx)("li",{className:O.a.ImageGalleryItem,onClick:function(){return n(t)},children:Object(m.jsx)("img",{className:O.a.image,src:a,alt:c})},t)}))},_=function(e){var t=e.images,n=e.onImageClick;return Object(m.jsx)("ul",{className:p.a.ImageGallery,children:Object(m.jsx)(y,{images:t,onImageClick:n})})},v=n(16),x=n(17),k=n(21),I=n(19),w=n(20),C=n(6),S=n.n(C),M=document.querySelector("#modal-root"),N=function(e){Object(k.a)(n,e);var t=Object(I.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).closeModalbyEsc=function(t){"Escape"===t.code&&e.props.showModal()},e.closeModalbyClick=function(t){t.currentTarget===t.target&&e.props.showModal()},e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.closeModalbyEsc)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.closeModalbyEsc)}},{key:"render",value:function(){var e=this;return Object(o.createPortal)(Object(m.jsx)("div",{className:S.a.backdrop,onClick:this.closeModalbyClick,children:Object(m.jsxs)("div",{className:S.a.modal,children:[Object(m.jsx)("button",{type:"button",onClick:function(){return e.props.showModal()},className:S.a.button,children:Object(m.jsx)(w.a,{className:S.a.icon})}),this.props.children]})}),M)}}]),n}(a.Component),E=n(18),G=n.n(E);function L(e){var t=e.onClick;return Object(m.jsx)("button",{type:"button",onClick:function(){return t()},className:G.a.Button,children:"Load more"})}var P=n(11),T=n.n(P),q="idle",B="resolved",F="reject";function A(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(1),r=Object(l.a)(o,2),u=r[0],b=r[1],j=Object(a.useState)([]),f=Object(l.a)(j,2),p=f[0],g=f[1],O=Object(a.useState)(q),y=Object(l.a)(O,2),v=y[0],x=y[1],k=Object(a.useState)(!1),I=Object(l.a)(k,2),w=I[0],C=I[1],S=Object(a.useState)(!1),M=Object(l.a)(S,2),E=M[0],G=M[1],P=Object(a.useState)(null),A=Object(l.a)(P,2),U=A[0],D=A[1];Object(a.useEffect)((function(){""!==n&&(1===u&&g([]),C(!0),function(e,t){return fetch("https://pixabay.com/api/?key=".concat("9062055-da883187fb30391728e11f5fd","&q=").concat(t,"&page=").concat(e,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Some server issue seems to have occured. Please try again"))}))}(u,n).then((function(e){e.hits.length<12&&s.b.warn("All images are loaded",{toastId:"anotherCustomId"}),g((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))})),x(B)})).catch((function(){return x(F)})).finally((function(){C(!1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})))}),[u,n]);return Object(m.jsxs)("div",{children:[Object(m.jsx)(h,{onClick:function(e){if(n===e.toLowerCase())return alert("alert"),void s.b.dark("Try to change your input :)",{toastId:"customId"});c(e.toLowerCase()),b(1)}}),"idle"===v?Object(m.jsx)("h2",{className:T.a.title,children:"Input your query to find images"}):null,"resolved"===v?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(_,{images:p,onImageClick:function(e){var t=p.find((function(t){return t.id===e}));D(t),G((function(e){return!e}))}}),Object(m.jsx)(L,{onClick:function(){b((function(e){return e+1}))}})]}):null,w&&Object(m.jsx)(d.a,{className:"Loader",type:"Oval",color:"#9900cc",height:180,width:180}),"reject"===v?Object(m.jsx)("h2",{className:T.a.title,children:"Error. Try to change your query"}):null,E&&Object(m.jsx)(N,{showModal:function(){G((function(e){return!e}))},children:Object(m.jsx)("img",{src:U.largeImageURL,alt:U.tags})}),Object(m.jsx)(s.a,{})]})}var U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))};r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(A,{})}),document.getElementById("root")),U()},6:function(e,t,n){e.exports={backdrop:"Modal_backdrop__1j1qk",modal:"Modal_modal__1X3Td",button:"Modal_button__3hHtC",icon:"Modal_icon__3adaK"}}},[[50,1,2]]]);
//# sourceMappingURL=main.d5a8ee02.chunk.js.map